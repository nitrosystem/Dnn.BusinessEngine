{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Behavior",
  "type": "object",
  "required": [ "code", "title", "category", "severity", "trigger", "description", "resolutionSteps" ],
  "properties": {
    "code": {
      "type": "string",
      "description": "یک کد یکتا مثل BEH_DUPLICATE_DATA"
    },
    "title": { "type": "string" },
    "category": {
      "type": "string",
      "enum": [ "Info", "Warning", "Error", "Corrective" ]
    },
    "severity": {
      "type": "string",
      "enum": [ "Low", "Medium", "High", "Critical" ]
    },
    "trigger": {
      "type": "array",
      "items": { "type": "string" },
      "description": "چه رویدادی این رفتار را فعال میکند (DbError, TemplateChange...)"
    },
    "description": { "type": "string" },
    "technicalCause": { "type": "string" },
    "userMessage": {
      "type": "string",
      "description": "متنی که باید به کاربر نمایش داده شود (قابل محلی‌سازی)"
    },
    "resolutionSteps": {
      "type": "array",
      "items": { "type": "string" }
    },
    "autoFixable": { "type": "boolean" },
    "fixActionKey": {
      "type": "string",
      "description": "اگر autoFixable باشد، کلیدی برای اجرای اکشن اصلاح"
    },
    "metadata": {
      "type": "object",
      "additionalProperties": true
    },
    "examples": {
      "type": "array",
      "items": { "type": "object" }
    }
  }
}
